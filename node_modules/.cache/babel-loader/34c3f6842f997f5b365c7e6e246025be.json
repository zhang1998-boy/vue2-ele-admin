{"remainingRequest":"/Users/zhangpeng/Desktop/workspace/zt-fill-web/node_modules/babel-loader/lib/index.js!/Users/zhangpeng/Desktop/workspace/zt-fill-web/src/utils/request.js","dependencies":[{"path":"/Users/zhangpeng/Desktop/workspace/zt-fill-web/src/utils/request.js","mtime":1718760949296},{"path":"/Users/zhangpeng/Desktop/workspace/zt-fill-web/babel.config.js","mtime":1706238677149},{"path":"/Users/zhangpeng/Desktop/workspace/zt-fill-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangpeng/Desktop/workspace/zt-fill-web/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9yb3V0ZXIkYXBwLCBfcm91dGVyJGFwcCRfcm91dGUkcXU7Ci8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzICovCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7Ci8vIGltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJyAvLyDlvJXlhaV2dWVYCmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vcm91dGVyJzsKaW1wb3J0IHsgbm90aWZpY2F0aW9uIH0gZnJvbSAnYW50LWRlc2lnbi12dWUnOwppbXBvcnQgbnByb2dyZXNzIGZyb20gJ25wcm9ncmVzcyc7CmltcG9ydCAnQC9zdHlsZS9ucHJvZ3Jlc3MuY3NzJzsKaW1wb3J0IENvb2tpZXMgZnJvbSAnanMtY29va2llJzsKCi8vIOWvvOWFpeWwgeijheeahG1lc3NhZ2Xlh73mlbAKaW1wb3J0IHNob3dNZXNzYWdlIGZyb20gJy4vc2hvd01lc3NhZ2UnOwppbXBvcnQgeyBnZXREb21haW4gfSBmcm9tICcuL2Nvb2tpZU9wcnRhdGUnOwpjb25zdCBiYXNlVVJMID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICJkZXZlbG9wbWVudCIgPyAiIiA6ICdodHRwczovL2dhdGV3YXktb3Blbi11YXQubG9uZ2Zvci5jb20venQtZmlsbC11YXQnOwovLyDor7fmsYLmi6bmiKrlmagKY29uc3QgQ0FTVEdDID0gKF9yb3V0ZXIkYXBwID0gcm91dGVyLmFwcCkgIT09IG51bGwgJiYgX3JvdXRlciRhcHAgIT09IHZvaWQgMCAmJiAoX3JvdXRlciRhcHAgPSBfcm91dGVyJGFwcC5fcm91dGUucXVlcnkpICE9PSBudWxsICYmIF9yb3V0ZXIkYXBwICE9PSB2b2lkIDAgJiYgX3JvdXRlciRhcHAuQ0FTVEdDID8gKF9yb3V0ZXIkYXBwJF9yb3V0ZSRxdSA9IHJvdXRlci5hcHAuX3JvdXRlLnF1ZXJ5KSA9PT0gbnVsbCB8fCBfcm91dGVyJGFwcCRfcm91dGUkcXUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yb3V0ZXIkYXBwJF9yb3V0ZSRxdS5DQVNUR0MgOiAnVEdULTIyMzM0LVlIRlUxZGVzVzZrbzRDS0Qwa2tFWk0wU05OUUVWVGVYeG02Vmc2OVk2ZzQ1RFd5aVZ0SWFsa0M5a0x3MXJoaHFveFUtbWluZXJ2YSc7CkNvb2tpZXMuc2V0KCdDQVNUR0MnLCBDQVNUR0MsIHsKICBkb21haW46ICcubG9uZ2Zvci5jb20nCn0pOwpDb29raWVzLnNldCgnQ0FTVEdDJywgQ0FTVEdDKTsKY29uc3Qgc2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTCwKICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsCiAgY3Jvc3NEb21haW46IHRydWUKfSk7CmxldCBOb3RpZmljYXRpb25SZXMgPSBmYWxzZTsKc2VydmljZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoY29uZmlnID0+IHsKICAvLyDliqDovb3ov5vluqbmnaEKICBucHJvZ3Jlc3Muc3RhcnQoKTsKICByZXR1cm4gY29uZmlnOwp9LCBlcnJvciA9PiB7CiAgbnByb2dyZXNzLmRvbmUoKTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKLy8g5ZON5bqU5oum5oiq5ZmoCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShyZXNwb25zZSA9PiB7CiAgdmFyIF9yZXNwb25zZSRkYXRhOwogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZXRDb2RlJywgcmVzcG9uc2UuZGF0YS5kYXRhLnJldENvZGUpOwogIGlmICgoKF9yZXNwb25zZSRkYXRhID0gcmVzcG9uc2UuZGF0YSkgPT09IG51bGwgfHwgX3Jlc3BvbnNlJGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXNwb25zZSRkYXRhLnJldENvZGUpID09ICcwJykgewogICAgbnByb2dyZXNzLmRvbmUoKTsKICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogIH0gZWxzZSB7CiAgICBzaG93TWVzc2FnZShyZXNwb25zZS5kYXRhLm1zZyk7IC8vIOaKm+WHuumUmeivr+S/oeaBrwogICAgLy8gaWYgKHJlc3BvbnNlLmRhdGEuY29kZSAhPT0gMCAmJiByZXNwb25zZS5kYXRhLmNvZGUgIT09IDQxMDgpIHsKICAgIC8vICAgc2hvd01lc3NhZ2UoJ+acque7keWumuezu+e7n+eUqOaItycpCiAgICAvLyB9CiAgICAvLyBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSA0MTAxIHx8IHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gNDEwNCB8fCByZXNwb25zZS5kYXRhLmNvZGUgPT09IDQ1MDMpIHsKICAgIC8vICAgZGVsZXRlQWxsQ29va2llcygpCiAgICAvLyAgIC8vIHNldFRpbWVvdXQoKCkgPT4gewogICAgLy8gICAvLyAgIHNlc3Npb25TdG9yYWdlLmNsZWFyKCkKICAgIC8vICAgLy8gICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCkKICAgIC8vICAgLy8gICByb3V0ZXIucHVzaCgnL2xvZ2luJykKICAgIC8vICAgLy8gfSwgMTApCiAgICAvLyB9CiAgfQp9LCBmdW5jdGlvbiAoZXJyKSB7CiAgbnByb2dyZXNzLmRvbmUoKTsKICBpZiAoZXJyICYmIGVyci5yZXNwb25zZSkgewogICAgc3dpdGNoIChlcnIucmVzcG9uc2Uuc3RhdHVzKSB7CiAgICAgIC8vIGNhc2UgNDAxOiBlcnIubWVzc2FnZSA9ICfnmbvlvZXkv6Hmga/ov4fmnJ8s6K+36YeN5paw55m75b2VKDQwMSknOyBsb2NhbFN0b3JhZ2UuY2xlYXIoKTsgcm91dGVyLnB1c2goJy9sb2dpbicpOyBicmVhawogICAgICBjYXNlIDQwMzoKICAgICAgICBlcnIubWVzc2FnZSA9ICfmsqHmnInmnYPpmZAoNDAzKSc7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgNDA0OgogICAgICAgIGVyci5tZXNzYWdlID0gJ+iuv+mXrui1hOa6kOS4jeWtmOWcqCg0MDQpJzsKICAgICAgICBicmVhazsKICAgICAgY2FzZSA0MDU6CiAgICAgICAgZXJyLm1lc3NhZ2UgPSAn6K+35rGC5pa55rOV5LiN5YWB6K64KDQwNSknOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlIDQwODoKICAgICAgICBlcnIubWVzc2FnZSA9ICfor7fmsYLotoXml7YoNDA4KSc7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgNTAwOgogICAgICAgIGVyci5tZXNzYWdlID0gJ+acjeWKoeWZqOmUmeivryg1MDApJzsKICAgICAgICBicmVhazsKICAgICAgY2FzZSA1MDE6CiAgICAgICAgZXJyLm1lc3NhZ2UgPSAn5pyN5Yqh5pyq5a6e546wKDUwMSknOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlIDUwMjoKICAgICAgICBlcnIubWVzc2FnZSA9ICfnvZHnu5zplJnor68oNTAyKSc7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgNTAzOgogICAgICAgIGVyci5tZXNzYWdlID0gJ+acjeWKoeS4jeWPr+eUqCg1MDMpJzsKICAgICAgICBicmVhazsKICAgICAgY2FzZSA1MDQ6CiAgICAgICAgZXJyLm1lc3NhZ2UgPSAn572R57uc6LaF5pe2KDUwNCknOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlIDUwNToKICAgICAgICBlcnIubWVzc2FnZSA9ICdIVFRQ54mI5pys5LiN5Y+X5pSv5oyBKDUwNSknOwogICAgICAgIGJyZWFrOwogICAgICBkZWZhdWx0OgogICAgICAgIGVyci5tZXNzYWdlID0gYOi/nuaOpeWHuumUmSgke2Vyci5yZXNwb25zZS5zdGF0dXN9KSFgOwogICAgfQogIH0gZWxzZSB7CiAgICBlcnIubWVzc2FnZSA9ICfov57mjqXmnI3liqHlmajlpLHotKUhJzsKICB9CiAgaWYgKCFOb3RpZmljYXRpb25SZXMpIHsKICAgIE5vdGlmaWNhdGlvblJlcyA9IHRydWU7CiAgICBub3RpZmljYXRpb24uZXJyb3IoewogICAgICB0aXRsZTogJ+aPkOekuicsCiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlCiAgICB9KTsKICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICBOb3RpZmljYXRpb25SZXMgPSBmYWxzZTsKICAgIH0sIDMwMDApOwogIH0KICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTsKfSk7CgovLyDliKDpmaRjb29raWXmlrnms5UKZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUFsbENvb2tpZXMoKSB7CiAgLy8gQ29va2llcy5yZW1vdmUoInVzZXJfdG9rZW4iKTsKICBsZXQgZG9taWFuID0gZ2V0RG9tYWluKCk7CiAgQ29va2llcy5yZW1vdmUoInVzZXJfdG9rZW4iLCB7CiAgICBkb21haW46IGRvbWlhbgogIH0pOwp9CmV4cG9ydCBkZWZhdWx0IHNlcnZpY2U7"},{"version":3,"names":["axios","router","notification","nprogress","Cookies","showMessage","getDomain","baseURL","process","env","NODE_ENV","CASTGC","_router$app","app","_route","query","_router$app$_route$qu","set","domain","service","create","withCredentials","crossDomain","NotificationRes","interceptors","request","use","config","start","error","done","Promise","reject","response","_response$data","localStorage","setItem","data","retCode","msg","err","status","message","title","setTimeout","deleteAllCookies","domian","remove"],"sources":["/Users/zhangpeng/Desktop/workspace/zt-fill-web/src/utils/request.js"],"sourcesContent":["\r\n/* eslint-disable import/no-duplicates */\r\nimport axios from 'axios'\r\n// import store from '@/store' // 引入vueX\r\nimport router from '../router'\r\nimport { notification } from 'ant-design-vue'\r\nimport nprogress from 'nprogress'\r\nimport '@/style/nprogress.css';\r\nimport Cookies from 'js-cookie'\r\n\r\n\r\n// 导入封装的message函数\r\nimport showMessage from './showMessage'\r\nimport { getDomain } from './cookieOprtate';\r\nconst baseURL = process.env.NODE_ENV === \"development\" ? \"\" : 'https://gateway-open-uat.longfor.com/zt-fill-uat'\r\n// 请求拦截器\r\nconst CASTGC = router.app?._route.query?.CASTGC ? router.app._route.query?.CASTGC : 'TGT-22334-YHFU1desW6ko4CKD0kkEZM0SNNQEVTeXxm6Vg69Y6g45DWyiVtIalkC9kLw1rhhqoxU-minerva'\r\n\r\nCookies.set('CASTGC', CASTGC, { domain: '.longfor.com' });\r\nCookies.set('CASTGC', CASTGC);\r\n\r\n\r\nconst service = axios.create({\r\n  baseURL,\r\n  withCredentials: true,\r\n  crossDomain: true\r\n})\r\nlet NotificationRes = false\r\n\r\n\r\nservice.interceptors.request.use(\r\n  config => {\r\n    // 加载进度条\r\n    nprogress.start();\r\n    return config\r\n  },\r\n  error => {\r\n    nprogress.done();\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n// 响应拦截器\r\nservice.interceptors.response.use(response => {\r\n  localStorage.setItem('retCode', response.data.data.retCode)\r\n  if (response.data?.retCode == '0') {\r\n    nprogress.done();\r\n    return response.data\r\n  } else {\r\n    showMessage(response.data.msg) // 抛出错误信息\r\n    // if (response.data.code !== 0 && response.data.code !== 4108) {\r\n    //   showMessage('未绑定系统用户')\r\n    // }\r\n    // if (response.data.code === 4101 || response.data.code === 4104 || response.data.code === 4503) {\r\n    //   deleteAllCookies()\r\n    //   // setTimeout(() => {\r\n    //   //   sessionStorage.clear()\r\n    //   //   window.location.reload()\r\n    //   //   router.push('/login')\r\n    //   // }, 10)\r\n    // }\r\n  }\r\n}, function (err) {\r\n  nprogress.done();\r\n  if (err && err.response) {\r\n    switch (err.response.status) {\r\n      // case 401: err.message = '登录信息过期,请重新登录(401)'; localStorage.clear(); router.push('/login'); break\r\n      case 403: err.message = '没有权限(403)'; break\r\n      case 404: err.message = '访问资源不存在(404)'; break\r\n      case 405: err.message = '请求方法不允许(405)'; break\r\n      case 408: err.message = '请求超时(408)'; break\r\n      case 500: err.message = '服务器错误(500)'; break\r\n      case 501: err.message = '服务未实现(501)'; break\r\n      case 502: err.message = '网络错误(502)'; break\r\n      case 503: err.message = '服务不可用(503)'; break\r\n      case 504: err.message = '网络超时(504)'; break\r\n      case 505: err.message = 'HTTP版本不受支持(505)'; break\r\n      default: err.message = `连接出错(${err.response.status})!`\r\n    }\r\n  } else {\r\n    err.message = '连接服务器失败!'\r\n  }\r\n  if (!NotificationRes) {\r\n    NotificationRes = true\r\n    notification.error({ title: '提示', message: err.message })\r\n    setTimeout(() => {\r\n      NotificationRes = false\r\n    }, 3000)\r\n  }\r\n  return Promise.reject(err)\r\n})\r\n\r\n// 删除cookie方法\r\nexport function deleteAllCookies () {\r\n  // Cookies.remove(\"user_token\");\r\n  let domian = getDomain()\r\n  Cookies.remove(\"user_token\", { domain: domian })\r\n}\r\nexport default service\r\n"],"mappings":"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"}]}